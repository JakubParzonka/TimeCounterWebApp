<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Time Counter Web App</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" th:href="@{/css/main.css}"
          href="../static/css/main.css"/>
    <script th:src="@{/js/jquery.js}"></script>
    <script th:src="@{/js/test.js}"></script>
</head>
    <body>
        <div class="container">
            <div class="starter-template">
                <h1>Time Counter Controller Web App</h1>
                <h2>
                    <span th:text="'Message: ' + ${welcome}"></span>
                </h2>
            </div>
            <a type="button" id="buttonStart" onclick="startAndReset()" class="button_1_purple">
                Start
            </a>
            <a type="button" id="buttonFirst" onclick="writeFirst()" class="button_1_purple">
                Write $03
            </a>
            <a type="button" id="buttonSreg" onclick="sRegRead()" class="button_1_purple">
                Write S reg #F2
            </a>
            <a type="button" id="buttonEnReg" onclick="enRegRead()" class="button_1_purple">
                Write EN reg #F3
            </a>
            <a type="button" id="buttonCtrlRegRead" onclick="ctrlRegRead()" class="button_1_purple">
                Write Ctrl Reg #F4
            </a>
            <a type="button" id="buttonOffsetRead" onclick="offsetRead()" class="button_1_purple">
                Write OFFSET #F5
            </a>
            <a type="button" id="buttonRead" onclick="readData()" class="button_1_purple">
                Read Data
            </a>
            <input type="text" value="..." id="dataFromCounter"/>
        </div>
    </body>
<script>
    var writeFirst = function () {
        $.ajax({
            type: "POST",
            url: "/writeFirst",
            dataType: 'text',
            timeout: 600000,
            success: function (data) {
                $("#buttonFirst").attr("value", data);
                console.log(data);
            },
            error: function (e) {
                console.log("Error during writeFirst calling => " + e.toString());
            }
        });
    };
    var startAndReset = function () {
        $.ajax({
            type: "POST",
            url: "/startAndReset",
            dataType: 'text',
            timeout: 600000,
            success: function (data) {
                $("#buttonStart").attr("value", data);
                console.log(data);
            },
            error: function (e) {
                console.log("Error during starting => " + e.toString());
            }
        });
    };
    var enRegRead = function () {
        $.ajax({
            type: "POST",
            url: "/enRegRead",
            dataType: 'text',
            timeout: 600000,
            success: function (data) {
                $("#buttonFirst").attr("value", data);
                console.log(data);
            },
            error: function (e) {
                console.log("Error during enRegRead calling => " + e.toString());
            }
        });
    };
    var sRegRead = function () {
        $.ajax({
            type: "POST",
            url: "/sRegRead",
            dataType: 'text',
            timeout: 600000,
            success: function (data) {
                $("#buttonFirst").attr("value", data);
                console.log(data);
            },
            error: function (e) {
                console.log("Error during sRegRead calling => " + e.toString());
            }
        });
    };
    var ctrlRegRead = function () {
        $.ajax({
            type: "POST",
            url: "/ctrlRegRead",
            dataType: 'text',
            timeout: 600000,
            success: function (data) {
                $("#buttonFirst").attr("value", data);
                console.log(data);
            },
            error: function (e) {
                console.log("Error during ctrlRegRead calling => " + e.toString());
            }
        });
    };
    var offsetRead = function () {
        $.ajax({
            type: "POST",
            url: "/offsetRead",
            dataType: 'text',
            timeout: 600000,
            success: function (data) {
                $("#buttonFirst").attr("value", data);
                console.log(data);
            },
            error: function (e) {
                console.log("Error during offsetRead calling => " + e.toString());
            }
        });
    };
    var readData = function () {
        $.ajax({
            type: "POST",
            url: "/readData",
            dataType: 'text',
            timeout: 600000,
            success: function (data) {
                $("#dataFromCounter").attr("value", data);
                console.log(data);
            },
            error: function (e) {
                console.log("Error during readData calling => " + e.toString());
            }
        });
    };


</script>
</html>